p8105\_hw2\_yt2785
================
Yijing Tao (UNI yt2785)
Oct 2021

``` r
library(tidyverse)
library(readxl)
library(haven)
library(dplyr)
library(ggplot2)
```

**Problem 1**

``` r
trash_wheel_df = read_excel("./data_hw2/Trash-Wheel-Collection-Totals-8-6-19.xlsx")
```

    ## New names:
    ## * `` -> ...15
    ## * `` -> ...16
    ## * `` -> ...17

``` r
trash_wheel_df = janitor::clean_names(trash_wheel_df)
trash_wheel_df = drop_na(trash_wheel_df, dumpster)
trash_wheel_df = select(trash_wheel_df, !starts_with("x"))#omit columns containing notes
rounding_sports_balls = round(trash_wheel_df$sports_balls,digit = 0)
trash_wheel_df = transform(trash_wheel_df, sports_balls = rounding_sports_balls)
```

``` r
n_row_trash_wheel = nrow(trash_wheel_df)
n_col_trash_wheel = ncol(trash_wheel_df)
trash_wheel_name = colnames(trash_wheel_df)
summary_trash_wheel_df = knitr::kable(summary(trash_wheel_df))
```

\*\*There are 344 rows and 14 columns in the dataset. The variables
includes dumpster, month, year, date, weight\_tons,
volume\_cubic\_yards, plastic\_bottles, polystyrene, cigarette\_butts,
glass\_bottles, grocery\_bags, chip\_bags, sports\_balls, homes\_powered
. The summary of the dataset is

|     | dumpster       | month            | year         | date                        | weight\_tons  | volume\_cubic\_yards | plastic\_bottles | polystyrene  | cigarette\_butts | glass\_bottles | grocery\_bags | chip\_bags     | sports\_balls | homes\_powered |
|:----|:---------------|:-----------------|:-------------|:----------------------------|:--------------|:---------------------|:-----------------|:-------------|:-----------------|:---------------|:--------------|:---------------|:--------------|:---------------|
|     | Min. : 1.00    | Length:344       | Min. :2014   | Min. :2014-05-16 00:00:00   | Min. :0.960   | Min. : 7.00          | Min. : 210.0     | Min. : 320   | Min. : 980       | Min. : 0.00    | Min. : 50     | Min. : 230.0   | Min. : 0.00   | Min. : 0.00    |
|     | 1st Qu.: 86.75 | Class :character | 1st Qu.:2015 | 1st Qu.:2015-07-05 00:00:00 | 1st Qu.:2.757 | 1st Qu.:15.00        | 1st Qu.: 957.5   | 1st Qu.:1065 | 1st Qu.: 7000    | 1st Qu.: 10.00 | 1st Qu.: 600  | 1st Qu.: 977.5 | 1st Qu.: 5.00 | 1st Qu.:35.62  |
|     | Median :172.50 | Mode :character  | Median :2017 | Median :2017-03-31 00:00:00 | Median :3.265 | Median :15.00        | Median :1835.0   | Median :2075 | Median : 19000   | Median : 21.50 | Median :1050  | Median :1630.0 | Median : 8.00 | Median :51.42  |
|     | Mean :172.50   | NA               | Mean :2016   | Mean :2016-12-23 10:57:12   | Mean :3.263   | Mean :15.54          | Mean :1873.2     | Mean :2139   | Mean : 30754     | Mean : 25.36   | Mean :1311    | Mean :1780.3   | Mean :11.81   | Mean :43.83    |
|     | 3rd Qu.:258.25 | NA               | 3rd Qu.:2018 | 3rd Qu.:2018-05-19 18:00:00 | 3rd Qu.:3.772 | 3rd Qu.:16.00        | 3rd Qu.:2552.5   | 3rd Qu.:3120 | 3rd Qu.: 38000   | 3rd Qu.: 38.00 | 3rd Qu.:1912  | 3rd Qu.:2490.0 | 3rd Qu.:16.00 | 3rd Qu.:59.50  |
|     | Max. :344.00   | NA               | Max. :2019   | Max. :2019-06-17 00:00:00   | Max. :5.620   | Max. :20.00          | Max. :5960.0     | Max. :6540   | Max. :310000     | Max. :110.00   | Max. :3750    | Max. :5085.0   | Max. :56.00   | Max. :93.67    |

\*\*

``` r
precipitation_2018_df = filter(trash_wheel_df, year %in% c("2018")) %>% 
  janitor::clean_names() %>% 
  mutate(year = 2018) %>% 
  select(year, month, weight_tons:homes_powered)

precipitation_2019_df = filter(trash_wheel_df, year %in% c("2019")) %>% 
  janitor::clean_names() %>% 
  mutate(year = 2019) %>% 
  select(year, month, weight_tons:homes_powered)

precipitation_df = bind_rows(precipitation_2018_df,precipitation_2019_df) %>% 
  janitor::clean_names() 
```

``` r
n_row_precipitation = nrow(precipitation_df)
n_col_precipitation = ncol(precipitation_df)
recipitation_name = colnames(precipitation_df)
summary_precipitation_df = knitr::kable(summary(precipitation_df))
```

\*\*There are 123 rows and 12 columns in the dataset. The variables
includes year, month, weight\_tons, volume\_cubic\_yards,
plastic\_bottles, polystyrene, cigarette\_butts, glass\_bottles,
grocery\_bags, chip\_bags, sports\_balls, homes\_powered . The summary
of the dataset is

|     | year         | month            | weight\_tons  | volume\_cubic\_yards | plastic\_bottles | polystyrene  | cigarette\_butts | glass\_bottles | grocery\_bags  | chip\_bags   | sports\_balls  | homes\_powered |
|:----|:-------------|:-----------------|:--------------|:---------------------|:-----------------|:-------------|:-----------------|:---------------|:---------------|:-------------|:---------------|:---------------|
|     | Min. :2018   | Length:123       | Min. :0.960   | Min. :12.00          | Min. : 240       | Min. : 320   | Min. : 980       | Min. : 0.000   | Min. : 50.0    | Min. : 230   | Min. : 0.000   | Min. :16.00    |
|     | 1st Qu.:2018 | Class :character | 1st Qu.:2.955 | 1st Qu.:15.00        | 1st Qu.: 790     | 1st Qu.: 850 | 1st Qu.: 5000    | 1st Qu.: 4.000 | 1st Qu.: 370.0 | 1st Qu.: 750 | 1st Qu.: 2.000 | 1st Qu.:49.25  |
|     | Median :2018 | Mode :character  | Median :3.240 | Median :15.00        | Median :1130     | Median :1100 | Median : 6600    | Median : 6.000 | Median : 700.0 | Median :1080 | Median : 4.000 | Median :54.00  |
|     | Mean :2018   | NA               | Mean :3.275   | Mean :15.24          | Mean :1334       | Mean :1334   | Mean : 7665      | Mean : 9.366   | Mean : 731.3   | Mean :1194   | Mean : 5.854   | Mean :54.59    |
|     | 3rd Qu.:2018 | NA               | 3rd Qu.:3.620 | 3rd Qu.:15.00        | 3rd Qu.:1885     | 3rd Qu.:1715 | 3rd Qu.: 8700    | 3rd Qu.:12.000 | 3rd Qu.: 995.0 | 3rd Qu.:1585 | 3rd Qu.: 8.000 | 3rd Qu.:60.33  |
|     | Max. :2019   | NA               | Max. :5.100   | Max. :18.00          | Max. :3300       | Max. :3300   | Max. :24000      | Max. :38.000   | Max. :2220.0   | Max. :2800   | Max. :22.000   | Max. :85.00    |

\*\*

**Problem 2**

``` r
pols_month_df = 
  read_csv("./data_hw2/pols-month.csv") %>% 
janitor::clean_names() %>% 
    separate(mon, into = c("year", "month", "day"), sep = "\\-") %>% 
    mutate(month = month.name[as.numeric(month)],
          president = recode(prez_dem, '0' = "gop", '1' = "dem"),
           year = as.numeric(year)) %>% 
  select(-prez_dem, -prez_gop) %>% 
  select(-day)
```

    ## Rows: 822 Columns: 9

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
n_row_pols_month = nrow(pols_month_df)
n_col_pols_month = ncol(pols_month_df)
pols_month_name = colnames(pols_month_df)
summary_pols_month_df = knitr::kable(summary(pols_month_df))
```

\*\*There are 822 rows and 9 columns in the dataset. The variables
includes year, month, gov\_gop, sen\_gop, rep\_gop, gov\_dem, sen\_dem,
rep\_dem, president . The summary of the dataset is

|     | year         | month            | gov\_gop      | sen\_gop     | rep\_gop      | gov\_dem     | sen\_dem      | rep\_dem    | president        |
|:----|:-------------|:-----------------|:--------------|:-------------|:--------------|:-------------|:--------------|:------------|:-----------------|
|     | Min. :1947   | Length:822       | Min. :12.00   | Min. :32.0   | Min. :141.0   | Min. :17.0   | Min. :44.00   | Min. :188   | Length:822       |
|     | 1st Qu.:1964 | Class :character | 1st Qu.:18.00 | 1st Qu.:42.0 | 1st Qu.:176.0 | 1st Qu.:22.0 | 1st Qu.:48.00 | 1st Qu.:211 | Class :character |
|     | Median :1981 | Mode :character  | Median :22.00 | Median :46.0 | Median :195.0 | Median :28.0 | Median :53.00 | Median :250 | Mode :character  |
|     | Mean :1981   | NA               | Mean :22.48   | Mean :46.1   | Mean :194.9   | Mean :27.2   | Mean :54.41   | Mean :245   | NA               |
|     | 3rd Qu.:1998 | NA               | 3rd Qu.:28.00 | 3rd Qu.:51.0 | 3rd Qu.:222.0 | 3rd Qu.:32.0 | 3rd Qu.:58.00 | 3rd Qu.:268 | NA               |
|     | Max. :2015   | NA               | Max. :34.00   | Max. :56.0   | Max. :253.0   | Max. :41.0   | Max. :71.00   | Max. :301   | NA               |

\*\*

``` r
snp_df = 
  read_csv("./data_hw2/snp.csv") %>% 
janitor::clean_names() %>% 
   separate(date, into = c("month", "day", "year"), sep = "\\/") %>% 
    mutate(month = month.name[as.numeric(month)]) %>% 
  mutate(year = recode(year, '50' = "1950",'51' = "1951",'52' = "1952",'53' = "1953",'54' = "1954",'55' = "1955",'56' = "1956",'57' = "1957",'58' = "1958",'59' = "1959",'60' = "1961",'62' = "1962",'563' = "1963",'64' = "1964",'65' = "1965",'66' = "1966",'67' = "1967",'68' = "1968",'69' = "1969",'70' = "1970",'71' = "1971",'72' = "1972",'73' = "1973",'74' = "1974",'75' = "1975",'76' = "1976",'77' = "1977",'78' = "1978",'79' = "1979",'80' = "1980",'81' = "1981",'82' = "1982",'83' = "1983",'84' = "1984",'85' = "1985",'86' = "1986",'87' = "1987",'88' = "1988",'89' = "1989",'90' = "1990",'91' = "1951",'51' = "1951",'51' = "1951",'51' = "1951",'51' = "1951",'51' = "1951",'51' = "1951",'51' = "1951",'91' = "1991",'92' = "1992",'93' = "1993",'94' = "1994",'95' = "1995",'96' = "1996",'97' = "1997",'98' = "1998",'99' = "1999",'00' = "2000",'01' = "2001",'02' = "2002",'03' = "2003",'04' = "2004",'05' = "2005",'06' = "2006",'07' = "2007",'08' = "2008",'09' = "2009",'10' = "2010",'11' = "2011",'12' = "2012",'13' = "2013",'14' = "2014",'15' = "2015")) %>% 
  arrange(year, month) %>% 
  relocate(year, month)
```

    ## Rows: 787 Columns: 2

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
n_row_snp = nrow(snp_df)
n_col_snp = ncol(snp_df)
snp_name = colnames(snp_df)
summary_snp_df = knitr::kable(summary(snp_df))
```

\*\*There are 787 rows and 4 columns in the dataset. The variables
includes year, month, day, close . The summary of the dataset is

|     | year             | month            | day              | close           |
|:----|:-----------------|:-----------------|:-----------------|:----------------|
|     | Length:787       | Length:787       | Length:787       | Min. : 17.05    |
|     | Class :character | Class :character | Class :character | 1st Qu.: 83.73  |
|     | Mode :character  | Mode :character  | Mode :character  | Median : 138.53 |
|     | NA               | NA               | NA               | Mean : 474.89   |
|     | NA               | NA               | NA               | 3rd Qu.: 941.79 |
|     | NA               | NA               | NA               | Max. :2107.39   |

\*\*

``` r
unempoyment_df = 
  read_csv("./data_hw2/unemployment.csv") %>% 
  janitor::clean_names() %>% 
pivot_longer(
  jan:dec,
    names_to = "month",
  values_to = "percentage") %>% 
  mutate(month = as.factor(month)) %>% 
  mutate(month = month.name[month])
```

    ## Rows: 68 Columns: 13

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
n_row_unempoyment = nrow(unempoyment_df)
n_col_unempoyment = ncol(unempoyment_df)
unempoyment_name = colnames(unempoyment_df)
summary_unempoyment_df = knitr::kable(summary(unempoyment_df))
```

\*\*There are 816 rows and 3 columns in the dataset. The variables
includes year, month, percentage. The summary of the dataset is

|     | year         | month            | percentage    |
|:----|:-------------|:-----------------|:--------------|
|     | Min. :1948   | Length:816       | Min. : 2.50   |
|     | 1st Qu.:1965 | Class :character | 1st Qu.: 4.70 |
|     | Median :1982 | Mode :character  | Median : 5.60 |
|     | Mean :1982   | NA               | Mean : 5.83   |
|     | 3rd Qu.:1998 | NA               | 3rd Qu.: 6.90 |
|     | Max. :2015   | NA               | Max. :10.80   |
|     | NA           | NA               | NA’s :6       |

\*\*

**Problem 3**

``` r
popular_baby_names_df = 
  read_csv("./data_hw2/Popular_Baby_Names.csv") %>% 
  janitor::clean_names() %>% 
  mutate(ethnicity = recode(ethnicity, 'ASIAN AND PACI' = "ASIAN AND PACIFIC ISLANDER", 'BLACK NON HISP' = "BLACK NON HISPANIC", 'WHITE NON HISP' = "WHITE NON HISPANIC")) %>% 
  distinct(year_of_birth,gender,ethnicity,childs_first_name,count,rank, .keep_all = TRUE)
```

    ## Rows: 19418 Columns: 6

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## chr (3): Gender, Ethnicity, Child's First Name
    ## dbl (3): Year of Birth, Count, Rank

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
olivia_df = filter(popular_baby_names_df, childs_first_name == "Olivia", gender == "FEMALE") %>% 
  select(year_of_birth, ethnicity, rank) %>% 
 pivot_wider(
    names_from = "year_of_birth",#name from another column
    values_from = "rank"#values from another column
  ) 
knitr::kable(olivia_df)
```

| ethnicity                  | 2016 | 2015 | 2014 | 2013 |
|:---------------------------|-----:|-----:|-----:|-----:|
| ASIAN AND PACIFIC ISLANDER |    1 |    1 |    1 |    3 |
| BLACK NON HISPANIC         |    8 |    4 |    8 |    6 |
| HISPANIC                   |   13 |   16 |   16 |   22 |
| WHITE NON HISPANIC         |    1 |    1 |    1 |    1 |

``` r
popular_male_name_df = filter(popular_baby_names_df,gender == "MALE", rank == 1) %>% 
  select(year_of_birth, ethnicity, childs_first_name) %>% 
 pivot_wider(
    names_from = "year_of_birth",#name from another column
    values_from = "childs_first_name"#values from another column
  ) 
knitr::kable(popular_male_name_df)
```

| ethnicity                  | 2016   | 2015   | 2014   | 2013   | 2012   | 2011    |
|:---------------------------|:-------|:-------|:-------|:-------|:-------|:--------|
| ASIAN AND PACIFIC ISLANDER | Ethan  | Jayden | Jayden | Jayden | RYAN   | ETHAN   |
| BLACK NON HISPANIC         | Noah   | Noah   | Ethan  | Ethan  | JAYDEN | JAYDEN  |
| HISPANIC                   | Liam   | Liam   | Liam   | Jayden | JAYDEN | JAYDEN  |
| WHITE NON HISPANIC         | Joseph | David  | Joseph | David  | JOSEPH | MICHAEL |

``` r
male_white_2016_df = filter(popular_baby_names_df,gender == "MALE", ethnicity == "WHITE NON HISPANIC", year_of_birth == 2016) 
ggplot(male_white_2016_df, aes(x = rank, y = count)) + geom_point()
```

![](p8105_hw2_yt2785_files/figure-gfm/unnamed-chunk-15-1.png)<!-- -->
